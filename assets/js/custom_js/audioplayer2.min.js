$(document).ready(function(){function a(a){var t=a.attr("audiourl"),e=a.text(),r=a.attr("cover"),l=a.attr("artist"),o=a.index();o=o;var s=$("div").find("[numberTrack='"+o+"']");$(".track_player").not(this).removeClass("stopPlayControl").addClass("play_album"),$(s).toggleClass("play_album stopPlayControl"),$(".player_track_name a").text(e),$(".player .artist").text(l),$(".player .cover").css("background-image","url(data/"+r+")"),_=new Audio(g+"/kick-2014/"+t+".mp3"),_.addEventListener("timeupdate",function(){var a=parseInt(_.currentTime,10);C.slider("value",a),u=a/60,u=u.toFixed(2),actcurTimeWrite=u.replace(".",":"),$(".elipsed_time").text(actcurTimeWrite),n()}),$(".playlist li").removeClass("active"),a.addClass("active")}function t(a,t){var o=cm.parseJSON($(".row"+a).html());if("Invalid JSON"==o)return void alert("Invalid JSON File");s();o.trackTitle;p=o.id;{var c=o.trackTitle,i=o.artist,d=o.albumTitle;o.album_lang.toLowerCase()}$(".player_track_name a").text(c+" - "),$(".player_album_name").text(i),$(".player .artist").text(i);var b=d.charAt(0);if(isNaN(b)||(b="0-9"),"pFromFile"!==t){if($.extend({getValues:function(a){var t=null;return $.ajax({url:baseUrl+"/download",data:{id:p,"do":"stream"},type:"get",async:!1,cache:!1,success:function(a,e,r){t=a}}),t}}),k=$.getValues("url string"),"failed"==k)return void alert("       Sorry! It seems like file doesn't exist \n If you want to see it presence online please report us on info@wtsongs.com");v=64}_=new Audio(k),_.addEventListener("timeupdate",function(){var a=parseInt(_.currentTime,10);C.slider("value",a),songDuration=_.duration,m=e(songDuration),acttime=m.replace(".",":"),$(".track_time").text(acttime.match(/[a-z]/i)?"00:00":acttime),C.slider("option","max",_.duration),u=e(a),$(".elipsed_time").text(u),u>="00:00"&&r()}),_.addEventListener("ended",function(){l(),n()}),_.addEventListener("seeked",function(){l()}),_.addEventListener("canplaythrough",function(){setTimeout(function(){updatePlayHits(p)},6e4)},!1),f?(f=!1,y=0):$(".stopControl").trigger("click")}function e(a,t){var e=Math.floor(a/3600),r=Math.floor((a-3600*e)/60),l=Math.floor(a-3600*e-60*r);return 10>r&&(r="0"+r),10>l&&(l="0"+l),r+":"+l}function r(){$(".fixed_player_stop_button").removeClass("audioLoad")}function l(){$(".fixed_player_stop_button").addClass("audioLoad")}function n(){if($(".repeat").css("opacity")<.8){s();{parseInt(y)+1}if(track_parent=$(".album_track.activeSong").next(),track_parent.length>0)if($(".album_track").removeClass("activeSong"),track_parent.addClass("activeSong"),track_elem=track_parent.find(".jsontrack"),track_elem.length>0){if(track_json=cm.parseJSON(track_elem.html()),"Invalid JSON"==track_json)return void alert("Invalid JSON File");track_id=track_json.id,$(".track_player").removeClass("stopPlayControl").addClass("play_album"),track_parent.find("div.track_player").toggleClass("play_album stopPlayControl"),y=track_parent.find("div.track_player").attr("numberTrack"),t(track_id)}else r(),s();else 0==c()?(r(),s()):(o(),$(".activeSong .track_player").removeClass("play_album").addClass("stopPlayControl"))}else{s();{parseInt(y)}if(track_parent=$(".album_track.activeSong"),track_parent.length>0){if($(".album_track").removeClass("activeSong"),track_parent.addClass("activeSong"),track_elem=track_parent.find(".jsontrack"),track_json=cm.parseJSON(track_elem.html()),"Invalid JSON"==track_json)return void alert("Invalid JSON File");track_id=track_json.id,$(".track_player").removeClass("stopPlayControl").addClass("play_album"),track_parent.find("div.track_player").toggleClass("play_album stopPlayControl"),y=track_parent.find("div.track_player").attr("numberTrack"),t(track_id)}else o()}}function o(){_.play(),$(".fixed_player_stop_button").removeClass("stopControl").addClass("fixedPause"),$(".fixed_player_stop_button").addClass("audioLoad"),$(".album_player").removeClass("albumPlayerIcon").addClass("stopPlayControl")}function s(){_.pause(),$(".fixed_player_stop_button").removeClass("fixedPause").addClass("stopControl"),$(".album_player").removeClass("stopPlayControl").addClass("albumPlayerIcon")}function c(){return $(".jsontrack")[0]?($(".fixed_player_wrapper").css("display","block"),track_parent=$(".album_track:first"),track_parent.addClass("activeSong"),track_elem=track_parent.find(".jsontrack"),track_json=cm.parseJSON(track_elem.html()),"Invalid JSON"==track_json?void alert("Invalid JSON File"):(track_id=track_json.id,defjsonTrack=track_id,f=!0,void t(track_id))):!1}function i(a){return track_parent=$(a),track_parent.addClass("activeSong"),track_elem=track_parent.find(".jsontrack"),track_json=cm.parseJSON(track_elem.html()),"Invalid JSON"==track_json?void alert("Invalid JSON File"):(track_id=track_json.id,track_title=track_json.trackTitle,void(is.is_str_length(track_title,2)?(defjsonTrack=track_id,f=!0,t(track_id)):(f=!0,n())))}function d(){fetch_queue(function(a){a?$(".qelem")[0]?i(".qelem:first"):$(".stopControl").trigger("click"):alert("It seems like your browser is not supported for queue feature")})}var p,_,k,u,m,y,v,f,C=$(".pro"),b=$(".volume"),g="http://cdn.wtsongs.com";$(document.body).on("click",".repeat",function(){$(".repeat").css("opacity")<.7?$(".repeat").css("opacity",".9"):$(".repeat").css("opacity",".3")}),$(document.body).on("click",".stopControl",function(a){if(a.preventDefault(),$(".player_track_name a").text().length>0){{$("div.track_player[numberTrack='"+y+"']")}$(".album_track.activeSong").find(".track_player").removeClass("stopPlayControl").addClass("play_album"),$(".album_track.activeSong").find(".track_player").toggleClass("play_album stopPlayControl"),o()}else alert("Select a song from playlist to play song")}),$(document.body).on("click",".fixedPause",function(a){a.preventDefault(),s(),$(".album_track.activeSong").find(".track_player").removeClass("stopPlayControl").addClass("play_album")}),$(document.body).on("click",".fixed_player_next_button",function(a){a.preventDefault(),s();parseInt(y)+1;return track_parent=$(".album_track.activeSong").next(),0==track_parent.length&&(track_parent=$(".album_track:first")),$(".album_track").removeClass("activeSong"),track_parent.addClass("activeSong"),track_elem=track_parent.find(".jsontrack"),track_json=cm.parseJSON(track_elem.html()),"Invalid JSON"==track_json?void alert("Invalid JSON File"):(track_id=track_json.id,$(".track_player").not(this).removeClass("stopPlayControl").addClass("play_album"),track_parent.find("div.track_player").toggleClass("play_album stopPlayControl"),y=track_parent.find("div.track_player").attr("numberTrack"),void t(track_id))}),$(document.body).on("click",".play_album",function(a){a.preventDefault();var e=$(this).attr("dataClass");if("undefined"!=typeof e&&e!==!1)track_parent=$(this).closest(".album_track"),$(".album_track").removeClass("activeSong"),track_parent.addClass("activeSong"),track_elem=track_parent.find(".jsontrack"),track_json=JSON.parse(track_elem.html()),track_id=track_json.id,$(".song_player").not(this).removeClass("stopPlayControl").addClass("play_album"),$(".track_player").not(this).removeClass("stopPlayControl").addClass("play_album"),y=track_parent.find("div.track_player").attr("numberTrack"),$(this).toggleClass("play_album stopPlayControl"),t(track_id);else{$(".track_player").not(this).removeClass("stopPlayControl").addClass("play_album"),$(this).toggleClass("play_album stopPlayControl"),s();{parseInt(y)}track_parent=$(".album_track.activeSong"),$(".album_track").removeClass("activeSong"),track_parent.addClass("activeSong"),track_elem=track_parent.find(".jsontrack"),track_json=JSON.parse(track_elem.html()),track_id=track_json.id,$(".song_player").not(this).removeClass("stopPlayControl").addClass("play_album"),$(".track_player").not(this).removeClass("stopPlayControl").addClass("play_album"),y=track_parent.find("div.track_player").attr("numberTrack"),$(this).toggleClass("play_album stopPlayControl"),t(track_id)}}),$(document.body).on("click",".stopPlayControl",function(a){a.preventDefault(),$(".track_player").not(this).removeClass("stopPlayControl").addClass("play_album"),$(this).toggleClass("play_album stopPlayControl"),s()}),$(".fixed_player_prev_button").click(function(a){a.preventDefault(),s();parseInt(y)+1;track_parent=$(".album_track.activeSong").prev(),0==track_parent.length&&(track_parent=$(".album_track.activeSong")),$(".album_track").removeClass("activeSong"),track_parent.addClass("activeSong"),track_elem=track_parent.find(".jsontrack"),track_json=JSON.parse(track_elem.html()),track_id=track_json.id,$(".track_player").removeClass("stopPlayControl").addClass("play_album"),track_parent.find("div.track_player").toggleClass("play_album stopPlayControl"),y=track_parent.find("div.track_player").attr("numberTrack"),t(track_id)}),$(".pl").click(function(a){a.preventDefault(),$(".playlist").fadeIn(300)}),$(".playlist li").click(function(){s(),a($(this))}),a($(".playlist li:first-child")),0==c()&&d(),_.volume=.8,b.slider({range:"min",min:1,max:100,value:80,start:function(a,t){},slide:function(a,t){_.volume=t.value/100},stop:function(a,t){}}),C.slider({range:"min",min:0,max:10,start:function(a,t){},slide:function(a,t){_.currentTime=t.value},stop:function(a,t){}})});