function editplaylist(){var e=document.editheader.submit.value;if("save"==e){$(".modal").show();var t=document.editheader.newPlName.value;if(t.length>2&&t.length<40){var a=t.replace(" ","+");a=a.toLowerCase();var r=$(".updatepl").attr("data-value"),l=$("#ispublicheader:checked").val();1==!l&&(l=0),ed_update_header(t,l,r,function(e){if("true"==e)if(delTrackArray.length>=1){for(index=0;index<delTrackArray.length;index++){var a="plName="+t+"&updatepl="+r+"&trackid="+delTrackArray[index];loadPostDataSync(baseUrl+"/useraddtopplaylist",a,function(){4==xmlhttp.readyState&&200==xmlhttp.status&&(editstatus=xmlhttp.responseText,"success"==editstatus||alert(editstatus))})}return_url=$(".cancelEdit").attr("gotourl"),show_n_box_wrapper("Track has been update to playlist"),window.open("/playlists"+return_url,"_self")}else return_url=cm.parseJSON($("#user_map").html()),return_url=cm.urlText("/playlists/"+return_url.user.unique_user_name+"/"+t),"Invalid String"==return_url&&(return_url="/"),show_n_box_wrapper("Playlist name has been update to playlist"),window.open(return_url,"_self");else show_n_box_wrapper(e)})}else sweetAlert("Oops...","Make playlist name more than 5 character","error")}return $(".modal").hide(),!1}function ed_update_header(e,t,a,r){url_param="updateplname="+e+"&ispublic="+t+"&updatepl="+a,loadPostData(baseUrl+"/useraddtopplaylist",url_param,function(){4==xmlhttp.readyState&&200==xmlhttp.status&&(updatestatus=xmlhttp.responseText,r(updatestatus))})}var delTrackArray=new Array;$(document.body).on("click",".deleteplaylisttrack",function(){var e=$(this).attr("data-value"),t=e.replace("del","col"),a=t.replace("col","");$("div."+t).remove(),delTrackArray.push(a)}),$(document.body).on("click",".cancelEdit",function(){$(this).attr("gotourl")});