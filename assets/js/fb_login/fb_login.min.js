function statusChangeCallback(e){"connected"===e.status?($("#fblogin").hide(),getUserInfo()):$("#status").html("not_authorized"===e.status?"Please log into this app.":"Please log into facebook")}function checkLoginState(){FB.getLoginStatus(function(e){statusChangeCallback(e)})}function getUserInfo(){FB.api("/me?fields=name,email",function(e){$.ajax({type:"POST",dataType:"json",data:e,url:"/fb_login",success:function(e){1==e.error?alert(e.error_dis):window.open(""+phpCurUrl,"_self")}})})}function FBLogout(){FB.logout(function(e){$("#fblogin").show(),$("#fbstatus").hide()})}function FBLogin(){FB.login(function(e){e.authResponse?getUserInfo():alert("Authorization failed.")},{scope:"public_profile,email"})}window.fbAsyncInit=function(){FB.init({appId:"515979721894250",cookie:!1,xfbml:!0,version:"v2.3"})},function(e,t,n){var o,a=e.getElementsByTagName(t)[0];e.getElementById(n)||(o=e.createElement(t),o.id=n,o.src="//connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(o,a))}(document,"script","facebook-jssdk"),function(e,t,n){var o,a=e.getElementsByTagName(t)[0];e.getElementById(n)||(o=e.createElement(t),o.id=n,o.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=515979721894250",a.parentNode.insertBefore(o,a))}(document,"script","facebook-jssdk");